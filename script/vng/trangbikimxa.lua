Include("\\script\\vng\\lib\\vnglib_award.lua");
LIB_Award.szLogTitle = "DOI TRANG BI KIM XA"
LIB_Award.szLogAction = "nhËn"
tbTrangBiKimXa_TuongQuan = {
	[1] = {
		[1] = {
				[1] = {item={{gdp={0,153,10,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng T­íng Qu©n"}}},
				[2] = {item={{gdp={0,153,11,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng T­íng Qu©n"}}},
				[3] = {item={{gdp={0,153,12,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng T­íng Qu©n"}}},
				[4] = {item={{gdp={0,153,13,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng T­íng Qu©n"}}},
			},
		[2] = {
				[1] = {item={{gdp={0,152,10,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Tèng T­íng Qu©n"}}},
				[2] = {item={{gdp={0,152,11,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Tèng T­íng Qu©n"}}},
				[3] = {item={{gdp={0,152,12,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Tèng T­íng Qu©n"}}},
				[4] = {item={{gdp={0,152,13,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Tèng T­íng Qu©n"}}},
			},
		[3] = {
				[1] = {item={{gdp={0,154,10,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Tèng T­íng Qu©n"}}},
				[2] = {item={{gdp={0,154,11,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Tèng T­íng Qu©n"}}},
				[3] = {item={{gdp={0,154,12,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Tèng T­íng Qu©n"}}},
				[4] = {item={{gdp={0,154,13,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Tèng T­íng Qu©n"}}},
			}
	},
	[2] = {
		[1] = {
				[1] = {item={{gdp={0,153,18,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu T­íng Qu©n"}}},
				[2] = {item={{gdp={0,153,19,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu T­íng Qu©n"}}},
				[3] = {item={{gdp={0,153,20,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu T­íng Qu©n"}}},
				[4] = {item={{gdp={0,153,21,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu T­íng Qu©n"}}},
			},
		[2] = {
				[1] = {item={{gdp={0,152,18,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu T­íng Qu©n"}}},
				[2] = {item={{gdp={0,152,19,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu T­íng Qu©n"}}},
				[3] = {item={{gdp={0,152,20,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu T­íng Qu©n"}}},
				[4] = {item={{gdp={0,152,21,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu T­íng Qu©n"}}},
			},
		[3] = {
				[1] = {item={{gdp={0,154,18,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu T­íng Qu©n"}}},
				[2] = {item={{gdp={0,154,19,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu T­íng Qu©n"}}},
				[3] = {item={{gdp={0,154,20,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu T­íng Qu©n"}}},
				[4] = {item={{gdp={0,154,21,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu T­íng Qu©n"}}},
			}
	},
}

tbNguyenLieuTuongQuan = {
	item={{gdp={2,95,204,7}, name="Thiªn Cang LÖnh"}, {gdp={2,1,30370,7}, name="Thiªn M«n Kim LÖnh"}, {gdp={2,1,30490,7}, name="Hoµng Kim §¹i Ng©n PhiÕu"}}
}


tbTrangBiKimXa_NguyenSoai = {
	[1] = {
		[1] = {
				[1] = {item={{gdp={0,153,14,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng Nguyªn So¸i"}}},
				[2] = {item={{gdp={0,153,15,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng Nguyªn So¸i"}}},
				[3] = {item={{gdp={0,153,16,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng Nguyªn So¸i"}}},
				[4] = {item={{gdp={0,153,17,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Tèng Nguyªn So¸i"}}},
			},
		[2] = {
				[1] = {item={{gdp={0,152,14,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o Choµng Tèng Nguyªn So¸i"}}},
				[2] = {item={{gdp={0,152,15,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o Choµng Tèng Nguyªn So¸i"}}},
				[3] = {item={{gdp={0,152,16,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o Choµng Tèng Nguyªn So¸i"}}},
				[4] = {item={{gdp={0,152,17,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o Choµng Tèng Nguyªn So¸i"}}},
			},
		[3] = {
				[1] = {item={{gdp={0,154,14,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn Hµi Tèng Nguyªn So¸i"}}},
				[2] = {item={{gdp={0,154,15,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn Hµi Tèng Nguyªn So¸i"}}},
				[3] = {item={{gdp={0,154,16,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn Hµi Tèng Nguyªn So¸i"}}},
				[4] = {item={{gdp={0,154,17,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn Hµi Tèng Nguyªn So¸i"}}},
			},
	},
	[2] = {
		[1] = {
				[1] = {item={{gdp={0,153,22,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu Nguyªn So¸i"}}},
				[2] = {item={{gdp={0,153,23,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu Nguyªn So¸i"}}},
				[3] = {item={{gdp={0,153,24,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu Nguyªn So¸i"}}},
				[4] = {item={{gdp={0,153,25,1,1,-1,-1,-1,-1,-1,-1,-1}, name="Huy ch­¬ng Liªu Nguyªn So¸i"}}},
			},
		[2] = {
				[1] = {item={{gdp={0,152,22,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu Nguyªn So¸i"}}},
				[2] = {item={{gdp={0,152,23,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu Nguyªn So¸i"}}},
				[3] = {item={{gdp={0,152,24,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu Nguyªn So¸i"}}},
				[4] = {item={{gdp={0,152,25,1,1,-1,-1,-1,-1,-1,-1,-1}, name="¸o choµng Liªu Nguyªn So¸i"}}},
			},
		[3] = {
				[1] = {item={{gdp={0,154,22,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu Nguyªn So¸i"}}},
				[2] = {item={{gdp={0,154,23,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu Nguyªn So¸i"}}},
				[3] = {item={{gdp={0,154,24,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu Nguyªn So¸i"}}},
				[4] = {item={{gdp={0,154,25,1,1,-1,-1,-1,-1,-1,-1,-1}, name="ChiÕn hµi Liªu Nguyªn So¸i"}}},
			},
	},
}

tbNguyenLieuNguyenSoai = {
	item={{gdp={2,95,204,13}, name="Thiªn Cang LÖnh"}, {gdp={2,1,30370,13}, name="Thiªn M«n Kim LÖnh"}, {gdp={2,1,30490,13}, name="Hoµng Kim §¹i Ng©n PhiÕu"}}
}


function DoiTrangBiKimXa_TuongQuan_Menu()
	local tbSay = {
		[1] = {
				"Huy Ch­¬ng Tèng T­íng Qu©n/#DoiTrangBiKimXa_TuongQuan_Done(1)",
				"¸o choµng Tèng T­íng Qu©n/#DoiTrangBiKimXa_TuongQuan_Done(2)",
				"ChiÕn hµi Tèng T­íng Qu©n/#DoiTrangBiKimXa_TuongQuan_Done(3)",
				"Ta chØ ghÐ xem/gf_DoNothing"
			},
		[2] = {"Huy Ch­¬ng Liªu T­íng Qu©n/#DoiTrangBiKimXa_TuongQuan_Done(1)",
				"¸o choµng Liªu T­íng Qu©n/#DoiTrangBiKimXa_TuongQuan_Done(2)",
				"ChiÕn hµi Liªu T­íng Qu©n/#DoiTrangBiKimXa_TuongQuan_Done(3)",
				"Ta chØ ghÐ xem/gf_DoNothing"
			},
	}
	local nQuanCong = GetTask(701)
	if nQuanCong == 0 then
		Talk(1,"","Ng­¬i ch­a gia nhËp phe Tèng/Liªu, kh«ng thÓ ®æi trang bÞ nµy.");
		return 0
	end
	local nPhe = 0
	if nQuanCong >= 0 then
		nPhe = 1
	else
		nPhe = 2
	end
	Say("Ta cã bé trang bÞ Kim Xµ T­íng Qu©n, t¨ng rÊt nhiÒu uy lùc cho chiÕn sÜ x«ng pha trËn m¹c, ng­¬i cã cÇn kh«ng?", getn(tbSay[nPhe]), tbSay[nPhe])
end


function DoiTrangBiKimXa_TuongQuan_Done(nOption)
	if gf_Judge_Room_Weight(1, 100) == 0 then
		Talk(1,"", "Søc lùc hoÆc hµnh trang kh«ng ®ñ, c¸c h¹ h·y s¾p xÕp l¹i nhÐ.")
		return 0
	end
	local nCheck = 0
	nCheck = LIB_Award:CheckMaterial(tbNguyenLieuTuongQuan)
	if nCheck ~= 1 then
		return 0
	end
	--=============================
	local nQuanCong = GetTask(701)
	local nPhe = 0
	if nQuanCong >= 0 then
		nPhe = 1
	else
		nPhe = 2
	end
	local nBody = GetBody()
	LIB_Award:PayMaterial(tbNguyenLieuTuongQuan)
	LIB_Award:Award(tbTrangBiKimXa_TuongQuan[nPhe][nOption][nBody])
end


function DoiTrangBiKimXa_NguyenSoai_Menu()
	local tbSay = {
		[1] = {
				"Huy Ch­¬ng Tèng Nguyªn So¸i/#DoiTrangBiKimXa_NguyenSoai_Done(1)",
				"¸o choµng Tèng Nguyªn So¸i/#DoiTrangBiKimXa_NguyenSoai_Done(2)",
				"ChiÕn hµi Tèng Nguyªn So¸i/#DoiTrangBiKimXa_NguyenSoai_Done(3)",
				"Ta chØ ghÐ xem/gf_DoNothing"
			},
		[2] = {"Huy Ch­¬ng Liªu Nguyªn So¸i/#DoiTrangBiKimXa_NguyenSoai_Done(1)",
				"¸o choµng Liªu Nguyªn So¸i/#DoiTrangBiKimXa_NguyenSoai_Done(2)",
				"ChiÕn hµi Liªu Nguyªn So¸i/#DoiTrangBiKimXa_NguyenSoai_Done(3)",
				"Ta chØ ghÐ xem/gf_DoNothing"
			},
	}
	local nQuanCong = GetTask(701)
	if nQuanCong == 0 then
		Talk(1,"","Ng­¬i ch­a gia nhËp phe Tèng/Liªu, kh«ng thÓ ®æi trang bÞ nµy.");
		return 0
	end
	local nPhe = 0
	if nQuanCong >= 0 then
		nPhe = 1
	else
		nPhe = 2
	end
	Say("Ta cã bé trang bÞ Kim Xµ Nguyªn So¸i, t¨ng rÊt nhiÒu uy lùc cho chiÕn sÜ x«ng pha trËn m¹c, ng­¬i cã cÇn kh«ng?", getn(tbSay[nPhe]), tbSay[nPhe])
end


function DoiTrangBiKimXa_NguyenSoai_Done(nOption)
	if gf_Judge_Room_Weight(1, 100) == 0 then
		Talk(1,"", "Søc lùc hoÆc hµnh trang kh«ng ®ñ, c¸c h¹ h·y s¾p xÕp l¹i nhÐ.")
		return 0
	end
	local nCheck = 0
	nCheck = LIB_Award:CheckMaterial(tbNguyenLieuNguyenSoai)
	if nCheck ~= 1 then
		return 0
	end
	--=============================
	local nQuanCong = GetTask(701)
	local nPhe = 0
	if nQuanCong >= 0 then
		nPhe = 1
	else
		nPhe = 2
	end
	local nBody = GetBody()
	LIB_Award:PayMaterial(tbNguyenLieuNguyenSoai)
	LIB_Award:Award(tbTrangBiKimXa_NguyenSoai[nPhe][nOption][nBody])
end